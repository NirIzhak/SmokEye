{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport React, { useState, useRef } from \"react\";\nimport Slides from \"../Data/Slides\";\nimport OnBoardingItem from \"./OnBoardingItem\";\nimport Paginator from \"./Paginator\";\nimport NextButton from \"./NextButton\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function OnBoarding(_ref) {\n  var change = _ref.change;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentIndex = _useState2[0],\n    setCurrenIndex = _useState2[1];\n  var scrollX = useRef(new Animated.Value(0)).current;\n  var slidesRef = useRef(null);\n  var viewableItemsChanged = useRef(function (_ref2) {\n    var viewableItems = _ref2.viewableItems;\n    setCurrenIndex(viewableItems[0].index);\n  }).current;\n  var viewConfig = useRef({\n    viewAreaCoveragePercentThreshold: 50\n  }).current;\n  var scrollTo = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (currentIndex < Slides.length - 1) {\n        slidesRef.current.scrollToIndex({\n          index: currentIndex + 1\n        });\n      } else {\n        try {\n          yield AsyncStorage.setItem('@viewedOnboarding', JSON.stringify(true));\n          change(true);\n        } catch (err) {\n          console.log(\"SetItemError\", err);\n        }\n      }\n    });\n    return function scrollTo() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: {\n        flex: 3\n      },\n      children: _jsx(FlatList, {\n        data: Slides,\n        renderItem: function renderItem(_ref4) {\n          var item = _ref4.item;\n          return _jsx(OnBoardingItem, {\n            item: item\n          });\n        },\n        horizontal: true,\n        pagingEnabled: true,\n        showsHorizontalScrollIndicator: false,\n        bounces: false,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        onScroll: Animated.event([{\n          nativeEvent: {\n            contentOffset: {\n              x: scrollX\n            }\n          }\n        }], {\n          useNativeDriver: false\n        }),\n        onViewableItemsChanged: viewableItemsChanged,\n        viewabilityConfig: viewConfig,\n        scrollEventThrottle: 32,\n        ref: slidesRef\n      })\n    }), _jsx(Paginator, {\n      data: Slides,\n      scrollX: scrollX\n    }), _jsx(NextButton, {\n      scrollTo: scrollTo,\n      percentage: (currentIndex + 1) / Slides.length * 100\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["React","useState","useRef","Slides","OnBoardingItem","Paginator","NextButton","AsyncStorage","jsx","_jsx","jsxs","_jsxs","OnBoarding","_ref","change","_useState","_useState2","_slicedToArray","currentIndex","setCurrenIndex","scrollX","Animated","Value","current","slidesRef","viewableItemsChanged","_ref2","viewableItems","index","viewConfig","viewAreaCoveragePercentThreshold","scrollTo","_ref3","_asyncToGenerator","length","scrollToIndex","setItem","JSON","stringify","err","console","log","apply","arguments","View","style","styles","container","children","flex","FlatList","data","renderItem","_ref4","item","horizontal","pagingEnabled","showsHorizontalScrollIndicator","bounces","keyExtractor","id","onScroll","event","nativeEvent","contentOffset","x","useNativeDriver","onViewableItemsChanged","viewabilityConfig","scrollEventThrottle","ref","percentage","StyleSheet","create","justifyContent","alignItems"],"sources":["C:/Users/NIR67/OneDrive/שולחן העבודה/SmokEye/src/Components/OnBoarding.jsx"],"sourcesContent":["import { View, Text, StyleSheet, FlatList, Animated } from \"react-native\";\r\nimport React, { useState, useRef } from \"react\";\r\nimport Slides from \"../Data/Slides\";\r\nimport OnBoardingItem from \"./OnBoardingItem\";\r\nimport Paginator from \"./Paginator\";\r\nimport NextButton from \"./NextButton\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\n\r\n\r\nexport default function OnBoarding({change}) {\r\n\r\n  const [currentIndex, setCurrenIndex] = useState(0);\r\n  const scrollX = useRef(new Animated.Value(0)).current;\r\n  const slidesRef = useRef(null);\r\n\r\n  const viewableItemsChanged = useRef(({ viewableItems }) => {\r\n    setCurrenIndex(viewableItems[0].index);\r\n  }).current;\r\n\r\n  const viewConfig = useRef({ viewAreaCoveragePercentThreshold: 50 }).current;\r\n\r\n  const scrollTo = async()=>{\r\n    if (currentIndex < Slides.length -1){\r\n        slidesRef.current.scrollToIndex({index: currentIndex+1})\r\n    } else{\r\n       try{\r\n        await AsyncStorage.setItem('@viewedOnboarding', JSON.stringify(true));\r\n        change(true)\r\n      }catch(err){\r\n        console.log(\"SetItemError\", err)\r\n       }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={{ flex: 3 }}>\r\n        <FlatList\r\n          data={Slides}\r\n          renderItem={({ item }) => <OnBoardingItem item={item} />}\r\n          horizontal\r\n          pagingEnabled \r\n          showsHorizontalScrollIndicator = {false}\r\n          bounces={false}\r\n          keyExtractor={(item) => item.id}\r\n          onScroll={Animated.event(\r\n            [{ nativeEvent: { contentOffset: { x: scrollX } } }],\r\n            {\r\n              useNativeDriver: false,\r\n            }\r\n          )}\r\n          onViewableItemsChanged={viewableItemsChanged}\r\n          viewabilityConfig={viewConfig}\r\n          scrollEventThrottle={32}\r\n          ref={slidesRef}\r\n        />\r\n      </View>\r\n\r\n      <Paginator data={Slides} scrollX={scrollX}/>\r\n      <NextButton scrollTo={scrollTo} percentage={((currentIndex + 1) / Slides.length) * 100}/>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}